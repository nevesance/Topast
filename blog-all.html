<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Topast Blog - All in One</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            navy: "#10243E",
            cream: "#F8F4E8",
            gold: "#C59C5F",
            pastel: "#EBE8D5",
            tomato: "#BF3B2C",
            blue: {
              light: "#4168a8",
              dark: "#10243E",
              topast: "#2b5ea3"
            },
            primary: '#4168a8',
            secondary: '#10243E'
          },
          fontFamily: {
            serif: ["EB Garamond", "serif"],
            sans: ["Montserrat", "sans-serif"],
            script: ["Dancing Script", "cursive"],
          }
        }
      }
    };
  </script>
  <style>
    body {
      background-color: #F8F4E8;
    }
    .prose {
      max-width: 65ch;
      color: #374151;
    }
    .prose p, .prose ul, .prose ol {
      margin-top: 1.25em;
      margin-bottom: 1.25em;
    }
    .prose img {
      margin-top: 2em;
      margin-bottom: 2em;
    }
    .prose h2 {
      margin-top: 2em;
      margin-bottom: 1em;
      font-weight: 700;
      font-size: 1.5em;
      color: #10243E;
    }
    .prose h3 {
      margin-top: 1.6em;
      margin-bottom: 0.6em;
      font-weight: 600;
      font-size: 1.25em;
      color: #10243E;
    }
    .prose a {
      color: #4168a8;
      text-decoration: underline;
      font-weight: 500;
    }
    .prose a:hover {
      color: #10243E;
    }
    .article-link {
      font-style: italic;
      font-family: 'EB Garamond', serif;
      font-size: 1.5rem;
      color: #10243E;
      display: block;
      margin-bottom: 1.5rem;
      transition: color 0.3s ease;
    }
    .article-link:hover {
      color: #4168a8;
    }
    .main-heading {
      font-family: 'EB Garamond', serif;
      font-size: 2.5rem;
      color: #10243E;
      text-transform: uppercase;
      margin-bottom: 3rem;
    }
    .blog-title {
      font-family: 'Dancing Script', cursive;
      font-size: 3rem;
      color: white;
      text-align: center;
      padding: 0.5rem 0;
    }
    .section-title {
      font-family: 'EB Garamond', serif;
      font-size: 2rem;
      color: #10243E;
      font-weight: 700;
      margin-bottom: 1rem;
    }
    .topast-header {
      background-color: #2b5ea3;
      color: white;
      padding: 1rem 0;
      text-align: center;
    }
    .article-card {
      transition: transform 0.2s ease-in-out;
    }
    .article-card:hover {
      transform: translateY(-5px);
    }
    /* Analytics styles removed - now accessed via protected dashboard */
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="bg-blue-50 py-4">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex justify-between items-center">
        <!-- Logo -->
        <div class="flex-shrink-0">
          <a href="index.html" class="flex items-center">
            <h1 class="text-3xl font-serif font-bold">
              <span class="text-navy">Top</span><span class="text-blue-500">ast</span><span class="text-navy">..</span>
            </h1>
          </a>
        </div>

        <!-- Search and Cart -->
        <div class="flex items-center space-x-4">
          <div class="relative flex items-center">
            <button class="absolute left-3 text-gray-500">
              <i class="fas fa-search"></i>
            </button>
            <input type="text" placeholder="SEARCH & SHOP" class="border border-gray-300 rounded-full px-10 py-1 text-sm w-56 bg-white">
          </div>
          <a href="/analytics" class="text-navy hover:text-blue-500 transition-colors mr-3">
            <i class="fas fa-chart-line"></i>
            <span class="hidden md:inline-block ml-1">Analytics</span>
          </a>
          <a href="#" class="text-navy">
            <i class="fas fa-shopping-bag text-xl"></i>
          </a>
          <div class="w-12 h-6 bg-red-600 rounded"></div>
        </div>
      </div>

      <!-- Navigation -->
      <div class="mt-4 flex flex-wrap justify-center">
        <a href="index.html#about" class="m-1 px-6 py-2 rounded-full bg-blue-50 border border-blue-100 text-navy hover:bg-blue-100 transition">ABOUT US</a>
        <a href="index.html#menu" class="m-1 px-6 py-2 rounded-full bg-blue-50 border border-blue-100 text-navy hover:bg-blue-100 transition">OUR MENU</a>
        <a href="index.html#events" class="m-1 px-6 py-2 rounded-full bg-blue-50 border border-blue-100 text-navy hover:bg-blue-100 transition">GIFTS</a>
        <a href="index.html#testimonials" class="m-1 px-6 py-2 rounded-full bg-blue-50 border border-blue-100 text-navy hover:bg-blue-100 transition">TESTIMONIAL</a>
        <a href="index.html#find" class="m-1 px-6 py-2 rounded-full bg-blue-50 border border-blue-100 text-navy hover:bg-blue-100 transition">FIND US</a>
        <a href="#" onclick="showBlogListing(); return false;" class="m-1 px-6 py-2 rounded-full bg-blue-200 border border-blue-200 text-navy font-medium">FIND AN ARTICLE</a>
      </div>

      <!-- Mobile Navigation (hidden by default) -->
      <div id="mobile-menu" class="hidden mt-4">
        <div class="space-y-2 bg-blue-50 p-4 rounded-lg">
          <div class="flex items-center mb-4 relative">
            <i class="fas fa-search absolute left-3 text-gray-500"></i>
            <input type="text" placeholder="SEARCH & SHOP" class="border border-gray-300 rounded-full pl-10 pr-4 py-1 text-sm w-full">
          </div>
          <a href="index.html#about" class="block py-2 text-navy font-medium">ABOUT US</a>
          <a href="index.html#menu" class="block py-2 text-navy font-medium">OUR MENU</a>
          <a href="index.html#events" class="block py-2 text-navy font-medium">GIFTS</a>
          <a href="index.html#testimonials" class="block py-2 text-navy font-medium">TESTIMONIAL</a>
          <a href="index.html#find" class="block py-2 text-navy font-medium">FIND US</a>
          <a href="#" onclick="showBlogListing(); return false;" class="block py-2 text-navy font-medium">FIND AN ARTICLE</a>
          <a href="/analytics" class="block py-2 text-navy font-medium">
            <i class="fas fa-chart-line mr-2"></i>Analytics
          </a>
          <a href="#" class="block py-2 text-navy font-medium">
            <i class="fas fa-shopping-bag mr-2"></i>View Cart
          </a>
        </div>
      </div>
    </div>
  </header>

  <!-- Analytics link (dashboard protected by login) -->
  <div class="hidden"><!-- Hidden because it's now accessed via the header links --></div>

  <!-- Main Content Area -->
  <main>
    <!-- Blog Listing View -->
    <div id="blog-listing" class="py-16">
      <div class="max-w-6xl mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
          <div>
            <h1 class="text-4xl text-navy font-serif uppercase mb-12">FIND AN ARTICLE</h1>
            
            <div id="blog-links-container">
              <!-- Blog links will be populated here -->
            </div>
          </div>
          
          <div>
            <img src="https://images.unsplash.com/photo-1509440159596-0249088772ff?q=80&w=1472&auto=format&fit=crop" 
                alt="Topast spread with various pastries" 
                class="rounded-lg w-full object-cover">
          </div>
        </div>
        
        <!-- Featured Articles Section -->
        <div class="mt-20">
          <h2 class="text-3xl font-serif text-navy mb-12 text-center">Featured Articles</h2>
          <div id="featured-articles" class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Featured articles will be populated here -->
          </div>
        </div>
        
        <!-- External Articles Link -->
        <div class="mt-20 text-center">
          <a href="#" onclick="showExternalArticles(); return false;" class="inline-block px-8 py-4 bg-blue-700 text-white rounded-lg shadow hover:bg-blue-800 transition-colors font-medium text-lg">
            View External Articles
          </a>
        </div>
      </div>
    </div>

    <!-- Blog Post View -->
    <div id="blog-post" class="hidden">
      <!-- Blog Header -->
      <div class="topast-header py-8">
        <div class="container mx-auto px-4">
          <h2 class="text-center text-white text-3xl font-bold mb-4">TOPAST BLOG</h2>
          <h1 id="blog-post-title" class="blog-title">Blog Post Title</h1>
        </div>
      </div>

      <div class="max-w-4xl mx-auto px-4 py-8">
        <!-- Introduction Section -->
        <div class="bg-white p-8 rounded-lg shadow-md mb-8">
          <div class="flex flex-col md:flex-row gap-8">
            <div class="w-full">
              <p id="blog-post-intro" class="text-gray-800 leading-relaxed">
                <!-- Blog post intro content -->
              </p>
            </div>
          </div>
          
          <div class="mt-6">
            <img id="blog-post-featured-image" src="" alt="" class="w-full h-auto object-cover rounded-lg">
          </div>
        </div>

        <!-- Why Choose Topast Section -->
        <div id="why-choose-topast-section" class="bg-white p-8 rounded-lg shadow-md mb-8 hidden">
          <h2 class="section-title">KENAPA HARUS PILIH TOPAST?</h2>
          
          <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/2">
              <!-- Product Images Grid -->
              <div id="product-images-grid" class="grid grid-cols-2 gap-4">
                <!-- Product images will be populated here -->
              </div>
            </div>
            
            <div class="md:w-1/2">
              <p id="why-choose-topast-text" class="text-gray-800 leading-relaxed">
                <!-- Why choose Topast text -->
              </p>
            </div>
          </div>
        </div>

        <!-- Composition Section -->
        <div id="composition-section" class="bg-white p-8 rounded-lg shadow-md mb-8 hidden">
          <h2 class="section-title">KOMPOSISI</h2>
          
          <p id="composition-text" class="text-gray-800 leading-relaxed">
            <!-- Composition text -->
          </p>
        </div>

        <!-- Complementary Food Section -->
        <div id="complementary-food-section" class="bg-white p-8 rounded-lg shadow-md mb-8 hidden">
          <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/2">
              <h2 class="section-title">MAKANAN PENDAMPING KAMU</h2>
              
              <p id="complementary-food-text" class="text-gray-800 leading-relaxed mb-6">
                <!-- Complementary food text -->
              </p>
            </div>
            
            <div class="md:w-1/2">
              <img id="complementary-food-image" src="" alt="Complementary food" class="rounded-lg shadow-md w-full h-auto object-cover">
            </div>
          </div>
        </div>

        <!-- Special Variants Section -->
        <div id="special-variants-section" class="bg-white p-8 rounded-lg shadow-md mb-8 hidden">
          <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/2">
              <h2 class="section-title">MATCHA KUNAFA VS KLEPON</h2>
              
              <p id="special-variants-text" class="text-gray-800 leading-relaxed mb-6">
                <!-- Special variants text -->
              </p>
              
              <div class="text-center mt-8">
                <a href="#variants" class="inline-block px-6 py-3 bg-blue-topast text-white rounded shadow hover:bg-blue-800 transition-colors font-medium text-lg">
                  Click here to see other Variants
                </a>
              </div>
            </div>
            
            <div class="md:w-1/2">
              <img id="special-variants-image" src="" alt="Special variants" class="rounded-lg shadow-md w-full h-auto object-cover">
            </div>
          </div>
        </div>
        
        <!-- Additional Content Section -->
        <div id="additional-content-section" class="bg-white p-8 rounded-lg shadow-md mb-8 hidden">
          <div id="additional-content">
            <!-- Additional content will be populated here -->
          </div>
        </div>
        
        <!-- Related Articles -->
        <div class="mt-16">
          <h3 class="text-2xl font-serif font-bold text-navy mb-8">Related Articles</h3>
          <div id="related-articles" class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Related articles will be populated here -->
          </div>
        </div>
        
        <!-- Back to blog link -->
        <div class="text-center mt-12">
          <a href="#" onclick="showBlogListing(); return false;" class="inline-flex items-center text-blue-light font-medium">
            <i class="fas fa-arrow-left mr-2"></i> Back to all articles
          </a>
        </div>
      </div>
    </div>

    <!-- External Articles View -->
    <div id="external-articles" class="hidden">
      <div class="container mx-auto px-4 py-12">
        <div class="text-center mb-12">
          <h1 class="text-3xl md:text-4xl font-serif font-bold text-navy mb-4">External Articles</h1>
          <p class="text-gray-600 max-w-2xl mx-auto">Explore these curated articles from around the web about pastry, baking, and food innovations.</p>
        </div>

        <div id="external-articles-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- External articles will be populated here -->
        </div>
        
        <!-- Back to blog link -->
        <div class="text-center mt-12">
          <a href="#" onclick="showBlogListing(); return false;" class="inline-flex items-center text-blue-light font-medium">
            <i class="fas fa-arrow-left mr-2"></i> Back to Topast Articles
          </a>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-navy text-white py-12 mt-16">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h2 class="text-xl font-bold mb-4">Topast</h2>
          <p class="text-gray-400 mb-4">Pengganjal lapar yang lezat dan kekinian untuk menemani waktu santaimu.</p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fab fa-tiktok"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fab fa-facebook"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fab fa-twitter"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
          <ul class="space-y-2">
            <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Products</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Gallery</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Contact</a></li>
          </ul>
        </div>

        <div>
          <h3 class="text-lg font-semibold mb-4">Resources</h3>
          <ul class="space-y-2">
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">FAQs</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Locations</a></li>
            <li><a href="#" onclick="showBlogListing(); return false;" class="text-gray-400 hover:text-white transition-colors">Blog</a></li>
            <li><a href="#" onclick="showExternalArticles(); return false;" class="text-gray-400 hover:text-white transition-colors">Articles</a></li>
          </ul>
        </div>

        <div>
          <h3 class="text-lg font-semibold mb-4">Newsletter</h3>
          <p class="text-gray-400 mb-4">Subscribe to our newsletter for updates</p>
          <form id="newsletter-form" class="flex flex-col sm:flex-row gap-2">
            <input type="email" placeholder="Your email" class="px-4 py-2 rounded text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-light">
            <button type="submit" class="px-4 py-2 bg-blue-light text-white rounded hover:bg-blue-600 transition-colors">
              Subscribe
            </button>
          </form>
        </div>
      </div>
      <div class="border-t border-gray-700 mt-12 pt-6 text-center text-gray-400">
        <p>&copy; 2024 Topast. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Blog Data -->
  <script src="blog-data.js"></script>
  
  <!-- Topast Analytics -->
  <script src="reset-analytics.js"></script>
  <script src="analytics.js"></script>
  
  <!-- Application Script -->
  <script>
    // ===================================================
    // BLOG DATA - EDIT THIS SECTION TO UPDATE BLOG CONTENT
    // ===================================================
    
    // Blog posts data
    const blogPosts = [
      {
        id: 1,
      title: "Pengganjal Lapar yang Lezat dan Kekinian",
        date: "May 15, 2024",
        category: "Food",
        views: 1250,
        readTime: "5 min",
        excerpt: "Di tengah kesibukan dan rutinitas yang padat, kadang kita butuh sesuatu yang praktis, enak, dan mengenyangkan untuk mengisi perut.",
        featuredImage: "assets/blog_1/Picture3.png",
        introContent: "Di tengah kesibukan dan rutinitas yang padat, kadang kita butuh sesuatu yang praktis, enak, dan mengenyangkan untuk mengisi perut. Nah, Topast hadir sebagai solusi untuk pengganjal lapar yang cocok banget buat kamu yang ingin ngemil sambil menikmati waktu senggang. Dengan berbagai varian rasa dan produk yang kreatif, Topast bisa jadi pilihan tepat untuk memenuhi selera makananmu.",
        whyChooseTopast: "Tekstur Topast, luar roti yang sedikit garing memberikan kontras yang pas dengan kelembutan roti di dalamnya. Mulai dari Topast Original sampai Topast Ice cream, semuanya punya rasa yang bener-bener pas di lidah. Rasa manis, asin hadir dengan porsi yang nggak bikin eneg. Bahkan, meski kamu sudah sering coba rasa yang sama, ada sensasi baru di setiap gigitannya!",
        composition: "Topast Original punya ukuran yang pas tanpa bikin perut terasa terlalu penuh. Dalam satu Topast Original, kamu bakal menemukan 1 lembar roti tawar yang lembut, dipadukan dengan 1 lembar kulit pastry ukuran 15x10 cm yang garing dan renyah. Komposisi yang seimbang membuat Topast Original cocok jadi camilan untuk mengganjal lapar.",
        complementaryFood: "Roti atau gorengan kadang terasa monoton, apalagi kalau sudah sering dimakan. Dengan menggunakan air fryer, Topast tentunya jauh lebih sehat dibandingkan cemilan yang digoreng dalam minyak yang banyak, karena lebih rendah lemak dan kalori. Dengan berbagai varian rasa, pastinya bisa disesuaikan dengan teman ngopi/ngeteh kamu. Yukk tunggu apa lagi, langsung kepoin kita di instagram @topast.id dan Tiktok @topast.id",
        specialVariants: "Topast nggak cuma hadir dengan rasa kekinian, tapi juga membawa sentuhan tradisional yang nggak kalah menarik! Dua varian unggulan yang wajib kamu coba adalah Matcha Kunafa terinspirasi dari kunafa yang viral di Dubai dan cita rasa lokal lewat varian Klepon. Siapa bilang rasa tradisional kalah saing? Justru varian ini jadi daya tarik karena masih jarang banget ada roti apalagi pastry yang berani mengangkat rasa khas Indonesia seperti klepon.",
        productImages: [
          { src: "assets/blog_1/Picture2.png", alt: "Topast Product 1" },
          { src: "assets/blog_1/Picture5.png", alt: "Topast Product 2" },
          { src: "assets/blog_1/Picture3.png", alt: "Topast Product 3" },
          { src: "assets/blog_1/Picture7.png", alt: "Topast Product 4" },
        ],
        complementaryFoodImage: "assets/Topast_Matcha.jpg",
        specialVariantsImage: "assets/Topast_klepon.jpg",
      },
      {
        id: 2,
        title: "Roti Bersisik: Camilan Lembut yang Menjadi Kesenangan Sederhana",
        date: "April 5, 2024",
        category: "Drinks",
        views: 1080,
        readTime: "3 min",
        excerpt: "Di tengah kesibukan dan rutinitas yang padat, kadang kita butuh sesuatu yang praktis, enak, dan mengenyangkan untuk mengisi perut.",
        featuredImage: "assets/Picture3.png",
        introContent: "Di tengah kesibukan yang padat dan dunia yang bergerak cepat, seringkali kita lupa menikmati hal-hal kecil yang membawa kebahagiaan. Salah satunya adalah camilan sederhana yang mengingatkan kita akan rumah dan kehangatan. Roti bersisik adalah salah satu dari camilan itu—makanan yang tak hanya mengenyangkan, tapi juga memanjakan indera.",
        whyChooseTopast: "Tekstur Topast, luar roti yang sedikit garing memberikan kontras yang pas dengan kelembutan roti di dalamnya. Mulai dari Topast Original sampai Topast Ice cream, semuanya punya rasa yang bener-bener pas di lidah. Rasa manis, asin hadir dengan porsi yang nggak bikin eneg. Bahkan, meski kamu sudah sering coba rasa yang sama, ada sensasi baru di setiap gigitannya!",
        composition: "Topast Original punya ukuran yang pas tanpa bikin perut terasa terlalu penuh. Dalam satu Topast Original, kamu bakal menemukan 1 lembar roti tawar yang lembut, dipadukan dengan 1 lembar kulit pastry ukuran 15x10 cm yang garing dan renyah. Komposisi yang seimbang membuat Topast Original cocok jadi camilan untuk mengganjal lapar.",
        complementaryFood: "Roti atau gorengan kadang terasa monoton, apalagi kalau sudah sering dimakan. Dengan menggunakan air fryer, Topast tentunya jauh lebih sehat dibandingkan cemilan yang digoreng dalam minyak yang banyak, karena lebih rendah lemak dan kalori. Dengan berbagai varian rasa, pastinya bisa disesuaikan dengan teman ngopi/ngeteh kamu. Yukk tunggu apa lagi, langsung kepoin kita di instagram @topast.id dan Tiktok @topast.id",
        specialVariants: "Topast nggak cuma hadir dengan rasa kekinian, tapi juga membawa sentuhan tradisional yang nggak kalah menarik! Dua varian unggulan yang wajib kamu coba adalah Matcha Kunafa terinspirasi dari kunafa yang viral di Dubai dan cita rasa lokal lewat varian Klepon. Siapa bilang rasa tradisional kalah saing? Justru varian ini jadi daya tarik karena masih jarang banget ada roti apalagi pastry yang berani mengangkat rasa khas Indonesia seperti klepon.",
        productImages: [
          { src: "assets/Picture2.png", alt: "Topast Product 1" },
          { src: "assets/Picture5.png", alt: "Topast Product 2" },
          { src: "assets/Picture3.png", alt: "Topast Product 3" },
          { src: "assets/Picture7.png", alt: "Topast Product 4" },
        ],
        complementaryFoodImage: "assets/Topast_Matcha.jpg",
        specialVariantsImage: "assets/Topast_klepon.jpg",
        },
      {
        id: 3,
        title: "Super flaky pastry",
        date: "April 20, 2024",
        category: "Baking",
        views: 850,
        readTime: "7 min",
        excerpt: "Rahasia di balik pastry yang super flaky yang akan membuat pengalaman makan kamu tidak terlupakan.",
        featuredImage: "https://images.unsplash.com/photo-1512223792601-592a9809eed4?q=80&w=1287&auto=format&fit=crop",
        introContent: "Pastry yang flaky adalah salah satu keajaiban dunia kuliner. Lapisan-lapisan tipis yang renyah menciptakan sensasi yang tak terlupakan saat digigit. Topast mengungkap rahasia di balik pastry super flaky yang selalu membuat pelanggan kembali untuk mendapatkan lebih.",
        additionalContent: `
          <h2 class="section-title">TEKNIK BERLAPIS</h2>
          <p class="text-gray-800 leading-relaxed mb-6">
            Proses pembuatan pastry yang flaky membutuhkan ketelitian dan kesabaran. Dengan teknik yang tepat, adonan yang dilipat berulang kali akan menghasilkan lapisan-lapisan tipis yang saat dipanggang, akan mengembang dan menciptakan tekstur yang renyah dan berlapis. Topast menguasai teknik ini dengan sempurna, sehingga setiap gigitan pastry kami selalu konsisten dan memuaskan.
          </p>
          <div class="grid grid-cols-2 gap-4 my-8">
            <img src="https://images.unsplash.com/photo-1504387432042-8aca549e4729?q=80&w=1287&auto=format&fit=crop" 
                 alt="Layered Pastry 1" 
                 class="rounded-lg shadow-md w-full h-48 object-cover">
            <img src="https://images.unsplash.com/photo-1501432781167-c0ccfd492297?q=80&w=1287&auto=format&fit=crop" 
                 alt="Layered Pastry 2" 
                 class="rounded-lg shadow-md w-full h-48 object-cover">
          </div>
          <h2 class="section-title">RAHASIA MENTEGA BERKUALITAS</h2>
          <p class="text-gray-800 leading-relaxed">
            Bahan baku memegang peranan penting dalam menciptakan pastry yang sempurna. Topast hanya menggunakan mentega berkualitas tinggi yang memiliki titik leleh dan kandungan lemak yang ideal untuk pastry. Kombinasi ini menghasilkan aroma yang harum dan tekstur yang tidak mudah lembek meski sudah beberapa jam di suhu ruangan.
          </p>
        `,
      }
    ];
    
    // External articles data
    const externalArticles = [
      {
        id: 1,
        title: "The Complete Guide to Flexbox",
        date: "May 2, 2024",
        source: "CSS-Tricks",
        excerpt: "Our comprehensive guide to CSS flexbox layout. This complete guide explains everything about flexbox, focusing on all the different possible properties for the parent element.",
        image: "https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?q=80&w=1470&auto=format&fit=crop",
        url: "https://css-tricks.com/snippets/css/a-guide-to-flexbox/",
        linkText: "Read on CSS-Tricks"
      },
      {
        id: 2,
        title: "Modern CSS Solutions for Common Problems",
        date: "April 28, 2024",
        source: "Smashing Magazine",
        excerpt: "This article explores modern CSS solutions to problems that web developers have been trying to solve with JavaScript for years.",
        image: "https://images.unsplash.com/photo-1587440871875-191322ee64b0?q=80&w=1471&auto=format&fit=crop",
        url: "https://www.smashingmagazine.com/category/css/",
        linkText: "Read on Smashing Magazine"
      },
      {
        id: 3,
        title: "The State of JavaScript Frameworks in 2024",
        date: "April 15, 2024",
        source: "Dev.to",
        excerpt: "A comprehensive overview of the current landscape of JavaScript frameworks, their strengths, weaknesses, and when to use each one.",
        image: "https://images.unsplash.com/photo-1610563166150-b34df4f3bcd6?q=80&w=1476&auto=format&fit=crop",
        url: "https://dev.to/t/javascript",
        linkText: "Read on Dev.to"
      },
      {
        id: 4,
        title: "Core Web Vitals: The Ultimate Guide",
        date: "April 10, 2024",
        source: "Web.dev",
        excerpt: "Learn everything you need to know about Core Web Vitals, why they matter for SEO, and how to optimize your website to improve these critical metrics.",
        image: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=1470&auto=format&fit=crop",
        url: "https://web.dev/learn/performance/",
        linkText: "Read on Web.dev"
      },
      {
        id: 5,
        title: "Frontend Development Best Practices for 2024",
        date: "April 5, 2024",
        source: "FreeCodeCamp",
        excerpt: "A detailed guide to the latest best practices in frontend development, covering everything from accessibility to performance optimization.",
        image: "https://images.unsplash.com/photo-1517694712202-14dd9538aa97?q=80&w=1470&auto=format&fit=crop",
        url: "https://www.freecodecamp.org/news/tag/front-end-development/",
        linkText: "Read on FreeCodeCamp"
      },
      {
        id: 6,
        title: "Designing for Dark Mode: A Comprehensive Guide",
        date: "March 25, 2024",
        source: "UX Collective",
        excerpt: "Everything you need to know about designing for dark mode, from color selection to accessibility considerations and implementation tips.",
        image: "https://images.unsplash.com/photo-1550063873-ab792950096b?q=80&w=1470&auto=format&fit=crop",
        url: "https://uxdesign.cc/",
        linkText: "Read on UX Collective"
      }
    ];
    
    // Analytics data
    const analyticsData = {
      // Traffic sources
      trafficSources: {
        'direct': { visits: 423, percentage: 42.3 },
        'organic-search': { visits: 312, percentage: 31.2 },
        'social-media': { visits: 156, percentage: 15.6 },
        'referral': { visits: 75, percentage: 7.5 },
        'email': { visits: 34, percentage: 3.4 }
      },
      // Average time (in seconds)
      averageTimeOnPage: {
        'blog': 124,
        'post': 318,
        'articles': 87
      },
      // Bounce rate (percentage)
      bounceRate: {
        'blog': 35.2,
        'post': 22.8,
        'articles': 41.5
      },
      // Conversion rates (percentage)
      conversionRate: {
        'newsletter-signup': 4.2,
        'product-click': 2.8,
        'social-share': 1.5
      },
      // Sessions
      sessions: {
        'today': 127,
        'yesterday': 145,
        'last7days': 872,
        'last30days': 3426,
        'averageDuration': 214 // in seconds
      }
    };
    
    // ===================================================
    // END OF BLOG DATA
    // ===================================================

    // Analytics Utilities - Uses global TopastAnalytics from analytics.js
    const analytics = {
      // Track page view
      trackPageView: function(page) {
        // Log for debugging
        console.log(`Page view tracked: ${page}`);
        
        try {
          // Use the global TopastAnalytics object from analytics.js
          if (window.TopastAnalytics) {
            window.TopastAnalytics.trackPageView();
          } else {
            console.error("TopastAnalytics not found. Make sure analytics.js is loaded first.");
          }
        } catch (e) {
          console.error("Error tracking analytics:", e);
        }
      },
      
      // Track event (click, conversion, etc.)
      trackEvent: function(category, action, label = null) {
        // Log for debugging
        console.log(`Event tracked: ${category} - ${action}${label ? ' - ' + label : ''}`);
        
        try {
          // Use the global TopastAnalytics object from analytics.js
          if (window.TopastAnalytics) {
            window.TopastAnalytics.trackEvent(category, action, label);
          } else {
            console.error("TopastAnalytics not found. Make sure analytics.js is loaded first.");
          }
        } catch (e) {
          console.error("Error tracking event:", e);
        }
      },
      
      // Get analytics data
      getAnalyticsData: function() {
        try {
          // Use the same storage key as analytics.js
          const analyticsKey = 'topast_analytics';
          return JSON.parse(localStorage.getItem(analyticsKey) || '{}');
        } catch (e) {
          console.error("Error getting analytics data:", e);
          return {};
        }
      }
    };
    
    // Views
    const views = {
      blogListing: document.getElementById('blog-listing'),
      blogPost: document.getElementById('blog-post'),
      externalArticles: document.getElementById('external-articles')
    };
    
    // Show blog listing
    function showBlogListing() {
      views.blogListing.classList.remove('hidden');
      views.blogPost.classList.add('hidden');
      views.externalArticles.classList.add('hidden');
      
      // Track page view
      analytics.trackPageView('blog');
      
      // Populate blog links
      populateBlogLinks();
      
      // Populate featured articles
      populateFeaturedArticles();
      
      // Track session start time
      trackSessionStart('blog');
    }
    
    // Show blog post
    function showBlogPost(postId) {
      // Find the post
      const post = blogPosts.find(p => p.id === postId);
      if (!post) {
        console.error('Post not found:', postId);
        return;
      }
      
      views.blogListing.classList.add('hidden');
      views.blogPost.classList.remove('hidden');
      views.externalArticles.classList.add('hidden');
      
      // Track page view
      analytics.trackPageView(`post/${postId}`);
      
      // Track event
      analytics.trackEvent('navigation', 'show_post', `id: ${postId}`);
      
      // Update view count in localStorage
      updatePostViewCount(postId);
      
      // Populate post content
      populatePostContent(post);
      
      // Populate related articles
      populateRelatedArticles(postId);
      
      // Track session start time
      trackSessionStart('post');
    }
    
    // Show external articles
    function showExternalArticles() {
      views.blogListing.classList.add('hidden');
      views.blogPost.classList.add('hidden');
      views.externalArticles.classList.remove('hidden');
      
      // Track page view
      analytics.trackPageView('external-articles');
      
      // Populate external articles
      populateExternalArticles();
      
      // Track session start time
      trackSessionStart('external-articles');
    }
    
    // Populate blog links
    function populateBlogLinks() {
      const container = document.getElementById('blog-links-container');
      if (!container) return;
      
      let html = '';
      blogPosts.forEach(post => {
        html += `<a href="#" onclick="showBlogPost(${post.id}); return false;" class="article-link">${post.title}</a>`;
      });
      
      container.innerHTML = html;
    }
    
    // Populate featured articles
    function populateFeaturedArticles() {
      const container = document.getElementById('featured-articles');
      if (!container) return;
      
      let html = '';
      // Get first 3 posts as featured
      const featuredPosts = blogPosts.slice(0, 3);
      
      featuredPosts.forEach(post => {
        html += `
        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
          ${post.category === 'Food' ? `
            <div class="relative">
              <img src="${post.featuredImage}" 
                  alt="${post.title}" 
                  class="w-full h-64 object-cover">
              <div class="absolute bottom-0 left-0 bg-gradient-to-t from-black/60 to-transparent w-full h-1/2"></div>
            </div>
          ` : post.category === 'Culinary' ? `
            <div class="grid grid-cols-2">
              <img src="${post.featuredImage}" 
                  alt="${post.title}" 
                  class="h-48 w-full object-cover">
              <div class="bg-navy/5 h-48 flex items-center justify-center">
                <span class="text-2xl font-serif text-navy">${post.category}</span>
              </div>
            </div>
          ` : post.category === 'Baking' ? `
            <div class="relative overflow-hidden">
              <img src="${post.featuredImage}" 
                  alt="${post.title}" 
                  class="w-full h-56 object-cover transform hover:scale-105 transition-transform duration-500">
            </div>
          ` : `
            <img src="${post.featuredImage}" 
                alt="${post.title}" 
                class="w-full h-48 object-cover">
          `}
          <div class="p-6">
            <div class="flex items-center text-sm text-gray-500 mb-3">
              <span>${post.date}</span>
              <span class="mx-2">•</span>
              <span>${post.category}</span>
            </div>
            <h3 class="text-xl font-bold text-navy mb-3">${post.title}</h3>
            <p class="text-gray-600 mb-4">${post.excerpt}</p>
            <a href="#" onclick="showBlogPost(${post.id}); return false;" class="text-blue-light font-medium flex items-center">
              Read More
              <i class="fas fa-arrow-right ml-2 text-sm"></i>
            </a>
          </div>
        </div>`;
      });
      
      container.innerHTML = html;
    }
    
    // Populate post content
    function populatePostContent(post) {
      // Set post title
      document.getElementById('blog-post-title').textContent = post.title;
      
      // Set post intro
      document.getElementById('blog-post-intro').innerHTML = post.introContent;
      
      // Set featured image
      const featuredImage = document.getElementById('blog-post-featured-image');
      featuredImage.src = post.featuredImage;
      featuredImage.alt = post.title;
      
      // Why Choose Topast section
      const whyChooseSection = document.getElementById('why-choose-topast-section');
      const whyChooseText = document.getElementById('why-choose-topast-text');
      const productImagesGrid = document.getElementById('product-images-grid');
      
      if (post.whyChooseTopast) {
        whyChooseSection.classList.remove('hidden');
        whyChooseText.innerHTML = post.whyChooseTopast;
        
        // Product images
        if (post.productImages && post.productImages.length > 0) {
          let imagesHtml = '';
          post.productImages.forEach(img => {
            imagesHtml += `
            <img src="${img.src}" 
                 alt="${img.alt}" 
                 class="rounded-lg shadow-sm w-full h-48 object-cover">`;
          });
          productImagesGrid.innerHTML = imagesHtml;
        }
      } else {
        whyChooseSection.classList.add('hidden');
      }
      
      // Composition section
      const compositionSection = document.getElementById('composition-section');
      const compositionText = document.getElementById('composition-text');
      
      if (post.composition) {
        compositionSection.classList.remove('hidden');
        compositionText.innerHTML = post.composition;
      } else {
        compositionSection.classList.add('hidden');
      }
      
      // Complementary Food section
      const complementaryFoodSection = document.getElementById('complementary-food-section');
      const complementaryFoodText = document.getElementById('complementary-food-text');
      const complementaryFoodImage = document.getElementById('complementary-food-image');
      
      if (post.complementaryFood) {
        complementaryFoodSection.classList.remove('hidden');
        complementaryFoodText.innerHTML = post.complementaryFood;
        
        if (post.complementaryFoodImage) {
          complementaryFoodImage.src = post.complementaryFoodImage;
          complementaryFoodImage.alt = "Complementary food for Topast";
        }
      } else {
        complementaryFoodSection.classList.add('hidden');
      }
      
      // Special Variants section
      const specialVariantsSection = document.getElementById('special-variants-section');
      const specialVariantsText = document.getElementById('special-variants-text');
      const specialVariantsImage = document.getElementById('special-variants-image');
      
      if (post.specialVariants) {
        specialVariantsSection.classList.remove('hidden');
        specialVariantsText.innerHTML = post.specialVariants;
        
        if (post.specialVariantsImage) {
          specialVariantsImage.src = post.specialVariantsImage;
          specialVariantsImage.alt = "Special Topast variants";
        }
      } else {
        specialVariantsSection.classList.add('hidden');
      }
      
      // Additional Content section
      const additionalContentSection = document.getElementById('additional-content-section');
      const additionalContent = document.getElementById('additional-content');
      
      if (post.additionalContent) {
        additionalContentSection.classList.remove('hidden');
        additionalContent.innerHTML = post.additionalContent;
      } else {
        additionalContentSection.classList.add('hidden');
      }
    }
    
    // Populate related articles
    function populateRelatedArticles(currentPostId) {
      const container = document.getElementById('related-articles');
      if (!container) return;
      
      // Get 3 posts that are not the current post
      const relatedPosts = blogPosts
        .filter(post => post.id !== currentPostId)
        .slice(0, 3);
      
      let html = '';
      relatedPosts.forEach(post => {
        html += `
        <a href="#" onclick="showBlogPost(${post.id}); return false;" class="block group">
          <div class="bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 group-hover:shadow-lg">
            <img src="${post.featuredImage}" 
                 alt="${post.title}" 
                 class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105">
            <div class="p-4">
              <h4 class="font-bold text-navy group-hover:text-blue-light transition-colors">${post.title}</h4>
              <p class="text-sm text-gray-600 mt-2">${post.date}</p>
            </div>
          </div>
        </a>`;
      });
      
      container.innerHTML = html;
    }
    
    // Populate external articles
    function populateExternalArticles() {
      const container = document.getElementById('external-articles-grid');
      if (!container) return;
      
      let html = '';
      externalArticles.forEach(article => {
        html += `
        <div class="article-card bg-white rounded-lg shadow overflow-hidden">
          <img src="${article.image}" alt="${article.title}" class="w-full h-48 object-cover">
          <div class="p-6">
            <div class="flex items-center text-sm text-gray-500 mb-3">
              <span>${article.date}</span>
              <span class="mx-2">•</span>
              <span>${article.source}</span>
            </div>
            <h2 class="text-xl font-bold text-secondary mb-3">${article.title}</h2>
            <p class="text-gray-600 mb-4">${article.excerpt}</p>
            <a href="${article.url}" target="_blank" rel="noopener noreferrer" class="text-primary font-medium flex items-center">
              ${article.linkText}
              <i class="fas fa-external-link-alt ml-2 text-sm"></i>
            </a>
          </div>
        </div>`;
      });
      
      container.innerHTML = html;
    }
    
    // Update post view count
    function updatePostViewCount(postId) {
      try {
        // Get current view counts from localStorage
        const viewCountsKey = 'topast_blog_view_counts';
        let viewCounts = JSON.parse(localStorage.getItem(viewCountsKey) || '{}');
        
        // Create a unique key for this post
        const postKey = `post_${postId}`;
        
        // Increment the view count
        viewCounts[postKey] = (viewCounts[postKey] || 0) + 1;
        
        // Save back to localStorage
        localStorage.setItem(viewCountsKey, JSON.stringify(viewCounts));
      } catch (e) {
        console.error("Error updating view count:", e);
      }
    }
    
    // Analytics dashboard functions removed - now accessed via protected dashboard
    
    // Analytics panel functions removed - now accessed via protected dashboard
    
    // Track session start
    function trackSessionStart(page) {
      try {
        const sessionKey = 'topast_blog_session';
        const sessionData = {
          startTime: new Date().getTime(),
          page: page,
          referrer: document.referrer || 'direct'
        };
        localStorage.setItem(sessionKey, JSON.stringify(sessionData));
      } catch (e) {
        console.error("Error tracking session start:", e);
      }
    }
    
    // Track session end
    function trackSessionEnd() {
      try {
        const sessionKey = 'topast_blog_session';
        const sessionDataStr = localStorage.getItem(sessionKey);
        
        if (sessionDataStr) {
          const sessionData = JSON.parse(sessionDataStr);
          const endTime = new Date().getTime();
          const duration = (endTime - sessionData.startTime) / 1000; // in seconds
          
          analytics.trackEvent('session', 'end', `duration: ${duration}s, page: ${sessionData.page}`);
          
          // Clear session data
          localStorage.removeItem(sessionKey);
        }
      } catch (e) {
        console.error("Error tracking session end:", e);
      }
    }
    
    // Mobile menu toggle
    function toggleMobileMenu() {
      const mobileMenu = document.getElementById('mobile-menu');
      if (mobileMenu) {
        mobileMenu.classList.toggle('hidden');
      }
    }
    
    // Initialize
    function init() {
      // Set up navigation listener
      window.addEventListener('popstate', handlePopState);
      
      // Add event listener for when user leaves the page
      window.addEventListener('beforeunload', trackSessionEnd);
      
      // Initialize mobile menu
      const mobileMenuButton = document.querySelector('.fa-search').parentNode;
      if (mobileMenuButton) {
        mobileMenuButton.addEventListener('click', toggleMobileMenu);
      }
      
      // Handle newsletter form submissions
      const newsletterForm = document.getElementById('newsletter-form');
      if (newsletterForm) {
        newsletterForm.addEventListener('submit', (e) => {
          e.preventDefault();
          analytics.trackEvent('conversion', 'newsletter-signup');
          newsletterForm.reset();
          alert('Thanks for subscribing!');
        });
      }
      
      // Handle product variant links
      document.addEventListener('click', (e) => {
        if (e.target.matches('a[href="#variants"]')) {
          analytics.trackEvent('product', 'click', 'variant-selection');
        }
      });
      
      // Handle social media links
      document.addEventListener('click', (e) => {
        const link = e.target.closest('a[href*="instagram"], a[href*="facebook"], a[href*="twitter"], a[href*="tiktok"]');
        if (link) {
          const platform = link.href.includes('instagram') ? 'instagram' : 
                          link.href.includes('facebook') ? 'facebook' :
                          link.href.includes('twitter') ? 'twitter' : 'tiktok';
          analytics.trackEvent('social', 'click', platform);
        }
      });
      
      // Initialize the page based on URL hash
      handlePopState();
    }
    
    // Handle browser back/forward buttons
    function handlePopState() {
      // Parse the current URL hash
      const hash = window.location.hash.slice(1);
      
      if (!hash || hash === 'blog' || hash === '') {
        showBlogListing();
      } else if (hash.startsWith('post/')) {
        const postId = parseInt(hash.split('/')[1]);
        showBlogPost(postId);
      } else if (hash === 'external-articles') {
        showExternalArticles();
      } else {
        showBlogListing();
      }
    }
    
    // Initialize when the DOM is loaded
    document.addEventListener('DOMContentLoaded', init);
    
    // Initialize the page now in case we're already loaded
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      setTimeout(init, 1);
    }
  </script>
</body>
</html>